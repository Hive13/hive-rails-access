{"ts":1375414617170,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"class HomeController < ApplicationController\n  def index\n  end\n\n  def doortest\n      monitor_message(\"[PORTAL][WARN] Door Controller was reset.  New IP address is: #{request.env['HTTP_X_FORWARDED_FOR']}\")\n      render :text => \"OK\"\n  end\n\n  def vendtest\n      monitor_message(\"[PORTAL][WARN] Vending Machine Controller was reset.  New IP address is: #{request.env['HTTP_X_FORWARDED_FOR']}\")\n      render :text => \"OK\"\n  end\n\n  def testtest\n      render :text => \"OK\"\n  end\n  \n  def fsqsave\n    auth = request.env[\"omniauth.auth\"]\n    token = params[\"code\"]\n\n    param = {}\n    param[\"client_id\"] = 'O1OPS1LVEPX0AI1HSQORSPQGHZSB4GXZ4CAM2YTCJ4MMSR55'\n    param[\"client_secret\"] = 'DKC50ZFPZLLB5BFVHDODCATPNHFIPZTJ3RTNP4L3RTPDRQLH'\n    param[\"grant_type\"] = \"authorization_code\"\n    param[\"redirect_uri\"] = 'http://localhost:3000/'\n    param[\"code\"] = token\n    fsqurl = \"https://foursquare.com/oauth2/access_token?#{param.to_query}\"\n    response = JSON.parse(Typhoeus::Request.get(fsqurl).body)\n    current_member.fsqtoken = response[\"access_token\"]\n    current_member.save\n    redirect_to root_url, :notice => \"Added Foursquare Token!\"\n  end\n\n  def statusboard\n    @members = Member.all\n    @guests = Guest.all\n  end\n  \nend\n"]],"start1":0,"start2":0,"length1":0,"length2":1223}]],"length":1223}
